

<script id="workShiftsTemplate" type="text/kendo-tmpl">

    <div style="min-height:300px;margin:10px;">

        @(Html.Kendo().TabStrip()
                      .Name("tabStrip_#=Id#")
                      .SelectedIndex(0)
                      .Animation(animation => animation.Open(open => open.Fade(FadeDirection.In)))
                      .Items(items =>
                      {
                          items.Add().Text("ترتيب الورديات").Content(@<text> 

                            <div style="min-height:400px;padding-top:20px">

                                <div class="clearfix">
                                    <button id="ramadanOrder_#=Id#" onclick="toggleRamadan('#=Id#')" class="btn btn-sm btn-outline-info" data-toggle="button" aria-pressed="false" autocomplete="off"> رمضان <i class="far fa-moon"></i></button>
                                    <button class="btn btn-sm btn-outline-info float-left" data-calendarId="#=Id#" data-toggle="modal" data-target="\\#addShiftModal"><i class="fa fa-plus"></i> اضافة وردية جديدة </button>
                                </div>

                                <br />

                                @(Html.Kendo().Grid<WorkShiftViewModel>()
                                        .Name("grd_#=Id#")
                                        .Columns(columns =>
                                        {

                                            columns.Bound(c => c.ShiftOrder).Title("الترتيب").Width(100);
                                            columns.Bound(c => c.ShiftRepeat).Title("التكرار").Width(100);
                                            columns.Bound(c => c.ShiftType).Title("نوع الوردية");
                                            columns.Bound(c => c.ShiftTypeInRamadan).Hidden(true)
                                              .Title("نوع الوردية").ClientHeaderTemplate("نوع الوردية <i class='far fa-moon'></i>");
                                            columns.Bound(c => c.ShiftStartTimeString).Title("بداية الوردية");
                                            columns.Bound(c => c.ShiftEndTimeString).Title("نهاية الوردية");
                                            columns.Bound(c => c.ShiftDurationTimeString).Title("مدة الوردية");
                                            columns.Bound(c => c.StartTimeInRamadanString).Title("بداية الوردية").Hidden(true)
                                                .ClientHeaderTemplate("بداية الوردية <i class='far fa-moon'></i>");
                                            columns.Bound(c => c.EndTimeInRamadanString).Title("نهاية الوردية").Hidden(true)
                                                .ClientHeaderTemplate("نهاية الوردية <i class='far fa-moon'></i>");
                                            columns.Bound(c => c.ShiftDurationTimeInRamadanString).Title("مدة الوردية").Hidden(true)
                                                .ClientHeaderTemplate("مدة الوردية <i class='far fa-moon'></i>");
                                            columns.Bound(c => c.DayOffDescription).Title("وصف الإجازة");
                                            columns.Bound(c => c.OffDescriptionInRamadan).Title("وصف الإجازة").Hidden(true)
                                                .ClientHeaderTemplate("وصف الإجازة <i class='far fa-moon'></i>");
                                            columns.Bound(c => c.Id).Title("تحكم").ClientTemplate(
                                                @"<a href='\\\\#addShiftModal' data-calendarId='#= Id #' data-shiftId='\\#= Id \\#' data-toggle='modal'  class='text-secondary' title='تعديل الوردية'><i class='fas fa-pencil-alt'></i> </a>" +
                                                @"<a href='\\\\#deleteModal' data-toggle='modal' data-calendarId='#= Id #' data-shiftId='\\#= Id \\#' class='text-danger' title='حذف'><i class='fas fa-trash-alt'></i></a>");
                                        })
                                        .DataSource(d =>
                                            d.Ajax()
                                            .ServerOperation(false)
                                            .Read(read => read.Action("GetAllShiftsByCalendarIdJsonForKendo", "WorkShifts",new { calendarId ="#=Id#"}))
                                           )
                                        .ToClientTemplate()

                                )

                            </div>


                            </text>);
                          items.Add().Text("جدول الورديات").Content(@<text>
                            
                            <div style="min-height:400px">

                            </div>  

                            </text>);
                      }).ToClientTemplate()                                      
        )

    </div>

</script>